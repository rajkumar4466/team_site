---
phase: 05-data-accuracy-and-real-assets
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/players.ts
  - src/data/gallery.ts
autonomous: true
requirements:
  - PHOTO-01
  - PHOTO-02

must_haves:
  truths:
    - "Every player in src/data/players.ts has an imageUrl pointing to a real CC-licensed Wikimedia Commons photo URL (external URL) OR an improved placehold.co URL — no player retains the generic placeholder from Phase 2"
    - "At least 8 of 16 players have real Wikimedia Commons photo URLs (external CDN — no local file download needed)"
    - "Gallery entries in src/data/gallery.ts have at least one real Wikimedia Commons photo URL per player where a CC-licensed photo exists"
    - "No copyrighted images are downloaded to public/ — all real photos use external Wikimedia URLs"
  artifacts:
    - path: "src/data/players.ts"
      provides: "Player squad data with real or improved imageUrl values"
      exports: ["players", "getPlayerBySlug"]
    - path: "src/data/gallery.ts"
      provides: "Gallery data with real Wikimedia Commons photo URLs where available"
      exports: ["galleryEntries"]
  key_links:
    - from: "src/data/players.ts imageUrl fields"
      to: "Wikimedia Commons CDN"
      via: "external URL reference"
      pattern: "upload.wikimedia.org|commons.wikimedia.org"
---

<objective>
Source real CC-licensed player photographs from Wikimedia Commons and update imageUrl fields in players.ts and gallery.ts. This is a research + data update task — no scraping scripts needed. Use Wikimedia Commons as the sole photo source; reference images via external URL (no local file download). Improve placehold.co styling for any players not found on Wikimedia Commons.

Purpose: PHOTO-01 requires real player photographs on profile pages and squad tiles. PHOTO-02 requires real gallery photographs. Wikimedia Commons CC BY-SA photos are the only safe source for a demo fan site without a photography license.
Output: Updated players.ts with real Wikimedia URLs for each player. Updated gallery.ts with real Wikimedia photos where available, improved placeholders elsewhere.
</objective>

<execution_context>
@/Users/mithra_sundaram/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mithra_sundaram/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/data/players.ts
@src/data/gallery.ts

<interfaces>
<!-- Player type from src/types/player.ts -->
```typescript
export interface Player {
  id: string;          // URL-safe slug, e.g. "shreyas-iyer"
  name: string;
  jerseyNumber: number;
  role: "Batsman" | "Bowler" | "All-rounder" | "Wicket-keeper";
  nationality: string;
  age: number;
  imageUrl: string;    // Use external Wikimedia Commons URL or improved placehold.co URL
  bio: string;
}
```

<!-- Gallery types from src/types/gallery.ts -->
```typescript
export interface GalleryPhoto {
  url: string;    // External Wikimedia URL OR improved placehold.co URL
  alt: string;
  caption: string;
}

export interface GalleryEntry {
  playerId: string;
  playerName: string;
  photos: GalleryPhoto[];
}
```

Current 16 players (all need imageUrl updated):
1. shreyas-iyer — Shreyas Iyer
2. sunil-narine — Sunil Narine
3. andre-russell — Andre Russell
4. varun-chakravarthy — Varun Chakravarthy
5. rinku-singh — Rinku Singh
6. venkatesh-iyer — Venkatesh Iyer
7. phil-salt — Phil Salt
8. harshit-rana — Harshit Rana
9. angkrish-raghuvanshi — Angkrish Raghuvanshi
10. moeen-ali — Moeen Ali
11. rahmanullah-gurbaz — Rahmanullah Gurbaz
12. ramandeep-singh — Ramandeep Singh
13. mitchell-starc — Mitchell Starc
14. manish-pandey — Manish Pandey
15. suyash-sharma — Suyash Sharma
16. spencer-johnson — Spencer Johnson

Gallery players (6 players currently):
shreyas-iyer, sunil-narine, andre-russell, rinku-singh, varun-chakravarthy, mitchell-starc
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Search Wikimedia Commons for all 16 players and collect direct image URLs</name>
  <files>src/data/players.ts</files>
  <action>
Use WebFetch to search Wikimedia Commons for each of the 16 KKR players. For each player, retrieve the direct image file URL (must be from `upload.wikimedia.org` CDN — this is the permanent direct-link format). Only use images with CC BY, CC BY-SA, or CC0 licenses.

Search pattern for each player: `https://commons.wikimedia.org/wiki/Special:Search?search={player+name}+cricket&ns6=1`

Or use the API: `https://commons.wikimedia.org/w/api.php?action=query&list=search&srsearch={player_name}+cricket&srnamespace=6&format=json`

For each player found on Wikimedia Commons:
- Get the direct image URL in format: `https://upload.wikimedia.org/wikipedia/commons/thumb/{hash}/{filename}/400px-{filename}`
- Use 400px width for player profile photos (matches the existing placehold.co 400x500 dimensions)
- Verify the image is a cricket-related photo (not a logo or unrelated image)

For players NOT found on Wikimedia Commons, construct an improved placehold.co URL:
- Format: `https://placehold.co/400x500/3A1078/FFD700?text={Jersey}%0A{Name}` where Jersey is the jersey number
- Example: `https://placehold.co/400x500/3A1078/FFD700?text=%2341%0AShreyas+Iyer` (the %23 encodes # for jersey display)

Update `src/data/players.ts` — only modify the `imageUrl` field for each player. Leave all other fields (id, name, jerseyNumber, role, nationality, age, bio) unchanged.

Priority players to find on Wikimedia (most likely to have CC photos):
- Mitchell Starc (Australia international, many cricket events documented)
- Moeen Ali (England international)
- Andre Russell (West Indies international, IPL star)
- Sunil Narine (West Indies international)
- Shreyas Iyer (India international)
- Phil Salt (England international)
- Rahmanullah Gurbaz (Afghanistan captain)

CRITICAL: Do NOT download any images. Do NOT create any files in public/images/. Only update the URL strings in players.ts. All imageUrl values must remain as strings (external URLs).

After updating all 16 players, verify the file still imports correctly:
```bash
cd /Users/mithra_sundaram/Desktop/code/AI/projects/team_site && npx tsc --noEmit
```
  </action>
  <verify>
    <automated>cd /Users/mithra_sundaram/Desktop/code/AI/projects/team_site && node -e "const src = require('fs').readFileSync('src/data/players.ts', 'utf8'); const wikiCount = (src.match(/upload\.wikimedia\.org/g) || []).length; const placeholderCount = (src.match(/placehold\.co/g) || []).length; console.log('Wikimedia URLs:', wikiCount, '| Placehold URLs:', placeholderCount, '| Total:', wikiCount+placeholderCount); if (wikiCount + placeholderCount < 16) throw new Error('Not all 16 players updated'); if (wikiCount < 1) throw new Error('No Wikimedia URLs found — at least some players should have real photos');"</automated>
  </verify>
  <done>All 16 players in players.ts have updated imageUrl values. At least some players have real Wikimedia Commons URLs (upload.wikimedia.org). Players without Wikimedia photos have improved placehold.co URLs. `npx tsc --noEmit` passes.</done>
</task>

<task type="auto">
  <name>Task 2: Update gallery.ts with real Wikimedia photos and improved placeholders</name>
  <files>src/data/gallery.ts</files>
  <action>
Update the 6 gallery entries in `src/data/gallery.ts`. For each gallery player, the first photo slot should use the same Wikimedia Commons URL found in Task 1 (if available). Additional slots get improved placehold.co URLs that are more descriptive.

Strategy for each player:
1. **If player has Wikimedia URL from Task 1:** Set photo 1 url to that Wikimedia URL (resize to 600x400: use the `600px-` prefix in the thumb URL). Photos 2-3 use improved placehold.co.
2. **If no Wikimedia URL found:** All 3 photos use improved placehold.co URLs.

Improved placehold.co format for gallery (600x400):
- Use the player's actual action descriptions from the existing alt text
- Format: `https://placehold.co/600x400/3A1078/FFD700?text={PlayerName}%0A{ShortAction}`
- Examples: "Shreyas+Iyer%0ACover+Drive", "Sunil+Narine%0ABowling"

Modify only the `url` fields in gallery.ts. Leave all `alt` and `caption` fields unchanged — they are accurate descriptions.

Keep the existing 6 players (shreyas-iyer, sunil-narine, andre-russell, rinku-singh, varun-chakravarthy, mitchell-starc). Do NOT add or remove gallery entries.

After updating, verify TypeScript compiles:
```bash
cd /Users/mithra_sundaram/Desktop/code/AI/projects/team_site && npx tsc --noEmit
```

Also verify the build passes:
```bash
cd /Users/mithra_sundaram/Desktop/code/AI/projects/team_site && npm run build
```
  </action>
  <verify>
    <automated>cd /Users/mithra_sundaram/Desktop/code/AI/projects/team_site && npm run build 2>&1 | tail -5 && echo "BUILD OK"</automated>
  </verify>
  <done>gallery.ts updated with real Wikimedia URLs where available and improved placehold.co URLs for remaining slots. `npm run build` exits 0 with no TypeScript errors.</done>
</task>

</tasks>

<verification>
1. players.ts: all 16 imageUrl values updated — no generic `text=PlayerName` placeholders from Phase 2 remain
2. players.ts: at least 1 player has an `upload.wikimedia.org` URL (real CC-licensed photo)
3. gallery.ts: all photo url fields updated
4. `npm run build` passes with exit code 0
5. No images downloaded to public/ — all real photos are external URL references
</verification>

<success_criteria>
All 16 players have updated imageUrl values. The squad page and player profiles will show real photos (from Wikimedia) or clearly-labeled improved placeholders. Gallery page has updated photo URLs. Build passes. No copyright violations — no licensed images stored locally.
</success_criteria>

<output>
After completion, create `.planning/phases/05-data-accuracy-and-real-assets/05-03-SUMMARY.md`

Include in SUMMARY: list of which players got real Wikimedia URLs vs improved placeholders. Note any Wikimedia URLs found for the 6 gallery players.
</output>
