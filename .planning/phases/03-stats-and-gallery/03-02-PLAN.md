---
phase: 03-stats-and-gallery
plan: "02"
type: execute
wave: 2
depends_on: [03-01]
files_modified:
  - src/app/stats/page.tsx
autonomous: true
requirements: [STAT-01, STAT-02]

must_haves:
  truths:
    - "User can view a season-by-season table at /stats showing year, position, wins, losses, and title badge"
    - "User can view a top performers section at /stats with separate cards for run-scorers and wicket-takers"
    - "Page uses KKR purple/gold branding consistent with Phase 1 and 2 visual language"
    - "Stats page is a pure server component — no use client, no runtime data fetching"
  artifacts:
    - path: "src/app/stats/page.tsx"
      provides: "Stats page with season records table and top performers section"
      exports: [default StatsPage]
  key_links:
    - from: "src/app/stats/page.tsx"
      to: "src/data/stats.ts"
      via: "direct import of seasonRecords and topPerformers"
      pattern: "import.*seasonRecords.*topPerformers.*from.*data/stats"
---

<objective>
Build the Stats page — replacing the placeholder stub at /stats with full season records and top performers content.

Purpose: Satisfy STAT-01 (season-by-season record) and STAT-02 (top performers) for the KKR fan site. Pure server component importing static data from Plan 03-01's data files.
Output: src/app/stats/page.tsx fully implemented with a season table and two performer cards.
</objective>

<execution_context>
@/Users/mithra_sundaram/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mithra_sundaram/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-stats-and-gallery/03-01-SUMMARY.md

<interfaces>
<!-- Types and data contracts created by Plan 03-01. Executor must import these exactly as shown — no codebase exploration needed. -->

From src/types/stats.ts:
```typescript
export interface SeasonRecord {
  year: number;
  wins: number;
  losses: number;
  noResult: number;
  position: number;
  title: boolean;
}

export interface TopPerformer {
  name: string;
  category: "runs" | "wickets";
  total: number;
  seasons: number;
}
```

From src/data/stats.ts:
```typescript
import { SeasonRecord, TopPerformer } from "../types/stats";
export const seasonRecords: SeasonRecord[];  // 17 entries, 2008-2024
export const topPerformers: TopPerformer[];  // 10 entries (5 runs + 5 wickets)
```

Brand tokens (Tailwind v4, defined via @theme in globals.css — use as utility classes):
- text-kkr-purple, bg-kkr-purple, border-kkr-purple
- text-kkr-gold, bg-kkr-gold
- bg-kkr-purple-light, bg-kkr-purple-dark, text-kkr-purple-dark

Established patterns from Phase 2:
- Pure server component — NO "use client" directive
- Pages use `export default function` (not named exports)
- Consistent heading: text-4xl font-extrabold text-kkr-purple mb-4
- Page wrapper: max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16
- Use @/ path alias for imports (e.g. "@/data/stats", "@/types/stats")
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Stats page with season records and top performers</name>
  <files>src/app/stats/page.tsx</files>
  <action>
Replace the placeholder stub at src/app/stats/page.tsx with a full implementation.

**Page structure:**

```
Page wrapper: max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16

H1: "KKR Season Stats" — text-4xl font-extrabold text-kkr-purple mb-2
Subtitle: "Kolkata Knight Riders in the IPL — 2008 to 2024" — text-gray-500 text-lg mb-12

--- SECTION 1: Season Records ---
H2: "Season-by-Season Record" — text-2xl font-bold text-kkr-purple mb-6

Render as a responsive table (overflow-x-auto wrapper for mobile):
  - Columns: Year | Position | Wins | Losses | NR | Result
  - Header row: bg-kkr-purple text-white text-sm font-semibold uppercase tracking-wider
  - Data rows: alternating bg-white / bg-gray-50, text-sm text-gray-700
  - "Year" column: font-bold text-kkr-purple
  - "Result" column: if title === true, show a gold badge — inline span with bg-kkr-gold text-kkr-purple-dark text-xs font-bold px-2 py-0.5 rounded-full containing "IPL Champion". Otherwise show "#{position}" in text-gray-500.
  - NR column shows noResult value (0 for most seasons)
  - Sort by year ascending (2008 first, 2024 last) — data is already ordered, no sort logic needed

--- SECTION 2: Top Performers ---
H2: "All-Time Top Performers" — text-2xl font-bold text-kkr-purple mb-6 mt-16

Render two side-by-side cards (grid grid-cols-1 md:grid-cols-2 gap-8):

Card 1 heading: "Top Run-Scorers"
Card 2 heading: "Top Wicket-Takers"

Each card:
- bg-white rounded-xl border border-gray-200 shadow-sm p-6
- Card heading: text-lg font-bold text-kkr-purple mb-4

Inside each card, filter topPerformers by category ("runs" or "wickets"), then render an ordered list (1-5):
- Each row: flex justify-between items-center py-2 border-b border-gray-100 last:border-0
- Left: rank number (text-kkr-gold font-bold text-lg mr-3) + player name (font-semibold text-gray-800)
- Right: total value (font-bold text-kkr-purple text-lg) + unit label (text-xs text-gray-400 ml-1) — "runs" or "wkts"
```

Pure server component — NO "use client". Import seasonRecords and topPerformers from "@/data/stats". Import SeasonRecord and TopPerformer from "@/types/stats" if needed for inline type annotations.
  </action>
  <verify>npx tsc --noEmit 2>&1 | head -20 && npm run build 2>&1 | tail -20</verify>
  <done>
- src/app/stats/page.tsx is a server component importing from @/data/stats
- Page renders season records table (17 rows, 2008-2024)
- IPL Champion badge appears for 2012, 2014, 2024 rows
- Top performers section shows two cards with 5 entries each
- npm run build succeeds with zero errors
  </done>
</task>

</tasks>

<verification>
After task completion:

```bash
npx tsc --noEmit
npm run build
```

Expected:
- Zero TypeScript errors
- Static build succeeds
- out/stats/index.html exists in build output
</verification>

<success_criteria>
- src/app/stats/page.tsx renders season records table (17 rows, 2008-2024) and top performers (10 entries across 2 cards)
- npm run build passes cleanly (static export)
- Page matches KKR brand (purple/gold) consistent with Phases 1 and 2
- Page does not use "use client"
</success_criteria>

<output>
After completion, create `.planning/phases/03-stats-and-gallery/03-02-SUMMARY.md`
</output>
